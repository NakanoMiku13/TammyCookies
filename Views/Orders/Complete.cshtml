@model TiendaEnLinea2.Data.Models.Order
@{
    ViewData["Title"] = "Completar";
}
<!-- Custom styles for this template -->
<link href="form-validation.css" rel="stylesheet">
<div class="container">

    <div class="row g-3">
        <div class="col-md-7 col-lg-8">
            <h4 class="mb-3">Datos del usuario</h4>
            <form class="needs-validation">
                <div class="row g-3">
                    <div class="col-sm-6">
                        <label asp-for="Nombre" class="form-label"></label>
                        <input value="@Model.Nombre" class="form-control" id="firstName" placeholder="Coloca tu nombre" required readonly>
                        <div class="invalid-feedback">
                            Valid first name is required.
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label asp-for="Apellidos" class="form-label"></label>
                        <input value="@Model.Apellidos" class="form-control" id="lastName" placeholder="Coloca tus apellidos" required readonly>
                        <div class="invalid-feedback">
                            Valid last name is required.
                        </div>
                    </div>

                    <div class="col-12">
                        <label for="address" class="form-label">Direcci&oacute;n</label>
                        <input value="@Model.Direccion" class="form-control" id="address" placeholder="1234 Main St" required readonly>
                        <div class="invalid-feedback">
                            Please enter your shipping address.
                        </div>
                    </div>

                    <div class="col-12">
                        <label for="address2" class="form-label">Colonia</label>
                        <input value="@Model.Colonia" class="form-control" id="address2" placeholder="Ingresa tu colonia" readonly>
                    </div>
                    <div class="col-12">
                        <label for="address2" class="form-label">C&oacute;digo Postal</label>
                        <input value="@Model.CP" class="form-control" id="address2" placeholder="Ingresa tu codigo postal" readonly>
                    </div>
                    <div class="col-12">
                        <label for="address2" class="form-label">Estado</label>
                        <input value="@Model.Estado" class="form-control" id="address2" placeholder="Ingresa tu estado" readonly>
                    </div>
                    <div class="col-12">
                        <label class="form-label">Telefono</label>
                        <input value="@Model.Numero" required type="number" class="form-control" placeholder="Ingresa tu numero telefonico" readonly />
                    </div>
                </div>

                <button class="w-100 btn btn-primary btn-lg" type="submit" disabled>Finalizar</button>
            </form>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12" id="paypal-button-container"></div>
</div>
<script src="https://www.paypal.com/sdk/js?client-id=AVY3IuQEihmKqzHUOpAna-8XWAynDw1fHd1RO0UtH1-bSJhSIftMAhVxktoIX5IN5tqmXGcj93VxhH3F&currency=MXN"></script>
<script>
    paypal.Buttons({

      enableStandardCardFields: true,
      createOrder: function(data, actions) {
        return actions.order.create({
            intent: 'CAPTURE',
          purchase_units: [
            {
              amount: {
                value: '@ViewBag.Total'
              }
            }
          ]
        });
      },
        onApprove: function (data, actions) {
            // This function captures the funds from the transaction.
            return actions.order.capture().then(function (details) {
                // This function shows a transaction success message to your buyer.
                window.location.href = '@Url.Content("/Orders/OnAprove/")';
            });
        }
    }).render('#paypal-button-container');
</script>

